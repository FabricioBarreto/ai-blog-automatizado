---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE } from '../consts';
---

<!doctype html>
<html lang="es">
	<head>
		<BaseHead 
			title={`Contacto - ${SITE_TITLE}`} 
			description="Ponte en contacto con nosotros. Estamos aqu√≠ para ayudarte con tus preguntas sobre IA y productividad." 
		/>
		<style>
			.contact-container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 4rem 2rem;
			}

			.hero-section {
				text-align: center;
				margin-bottom: 4rem;
				padding: 3rem 0;
			}

			.hero-section h1 {
				font-size: 3rem;
				font-weight: 800;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				margin-bottom: 1rem;
			}

			.hero-section p {
				font-size: 1.25rem;
				color: rgba(0, 0, 0, 0.7);
				max-width: 600px;
				margin: 0 auto;
			}

			.contact-methods {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
				gap: 2rem;
				margin-bottom: 4rem;
			}

			.method-card {
				background: white;
				padding: 2rem;
				border-radius: 16px;
				box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
				text-align: center;
				transition: all 0.3s ease;
				border: 2px solid transparent;
			}

			.method-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
				border-color: #667eea;
			}

			.method-icon {
				font-size: 3rem;
				margin-bottom: 1rem;
			}

			.method-card h3 {
				font-size: 1.5rem;
				margin-bottom: 0.75rem;
				color: #1e293b;
			}

			.method-card p {
				color: rgba(0, 0, 0, 0.6);
				line-height: 1.6;
				margin-bottom: 1rem;
			}

			.method-link {
				color: #667eea;
				font-weight: 600;
				text-decoration: none;
			}

			.form-section {
				background: white;
				padding: 3rem;
				border-radius: 20px;
				box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
				max-width: 700px;
				margin: 0 auto;
			}

			.form-section h2 {
				font-size: 2rem;
				margin-bottom: 1rem;
				color: #1e293b;
			}

			.form-section > p {
				color: rgba(0, 0, 0, 0.6);
				margin-bottom: 2rem;
			}

			.form-group {
				margin-bottom: 1.5rem;
			}

			.form-group label {
				display: block;
				font-weight: 600;
				margin-bottom: 0.5rem;
				color: #334155;
			}

			.form-group input,
			.form-group select,
			.form-group textarea {
				width: 100%;
				padding: 0.875rem 1rem;
				border: 2px solid #e2e8f0;
				border-radius: 10px;
				font-size: 1rem;
				transition: all 0.3s ease;
				font-family: inherit;
			}

			.form-group input:focus,
			.form-group select:focus,
			.form-group textarea:focus {
				outline: none;
				border-color: #667eea;
				box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
			}

			.form-group textarea {
				resize: vertical;
				min-height: 150px;
			}

			.submit-btn {
				width: 100%;
				padding: 1rem;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				color: white;
				border: none;
				border-radius: 10px;
				font-size: 1.1rem;
				font-weight: 600;
				cursor: pointer;
				transition: all 0.3s ease;
			}

			.submit-btn:hover:not(:disabled) {
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
			}

			.submit-btn:disabled {
				opacity: 0.6;
				cursor: not-allowed;
			}

			.form-message {
				padding: 1rem;
				border-radius: 10px;
				margin-top: 1rem;
				display: none;
				text-align: center;
				font-weight: 600;
			}

			.form-message.success {
				background: #d1fae5;
				color: #065f46;
				border: 2px solid #10b981;
			}

			.form-message.error {
				background: #fee2e2;
				color: #991b1b;
				border: 2px solid #ef4444;
			}

			.faq-section {
				margin-top: 5rem;
				max-width: 800px;
				margin-left: auto;
				margin-right: auto;
			}

			.faq-section h2 {
				font-size: 2rem;
				text-align: center;
				margin-bottom: 3rem;
				color: #1e293b;
			}

			.faq-item {
				background: white;
				padding: 2rem;
				border-radius: 12px;
				margin-bottom: 1.5rem;
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
			}

			.faq-item h3 {
				color: #667eea;
				font-size: 1.25rem;
				margin-bottom: 0.75rem;
			}

			.faq-item p {
				color: rgba(0, 0, 0, 0.7);
				line-height: 1.7;
			}

			@media (max-width: 768px) {
				.hero-section h1 {
					font-size: 2rem;
				}

				.form-section {
					padding: 2rem 1.5rem;
				}

				.contact-methods {
					grid-template-columns: 1fr;
				}
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<div class="contact-container">
				<!-- Hero Section -->
				<section class="hero-section">
					<h1>¬øTienes alguna pregunta?</h1>
					<p>Estamos aqu√≠ para ayudarte. Cont√°ctanos y te responderemos lo antes posible.</p>
				</section>

				<!-- Contact Methods -->
				<section class="contact-methods">
					<div class="method-card">
						<div class="method-icon">üìß</div>
						<h3>Email</h3>
						<p>Env√≠anos un email y te responderemos en 24-48 horas</p>
						<a href="mailto:fabriciobarreto2610@gmail.com" class="method-link">
							fabriciobarreto2610@gmail.com
						</a>
					</div>

					<div class="method-card">
						<div class="method-icon">üí¨</div>
						<h3>Redes Sociales</h3>
						<p>S√≠guenos y cont√°ctanos en nuestras redes</p>
						<a href="#social" class="method-link">Ver redes sociales ‚Üí</a>
					</div>

					<div class="method-card">
						<div class="method-icon">üìù</div>
						<h3>Formulario</h3>
						<p>Completa el formulario y nos pondremos en contacto</p>
						<a href="#contact-form" class="method-link">Usar formulario ‚Üí</a>
					</div>
				</section>

				<!-- Contact Form -->
				<section class="form-section">
					<h2>Env√≠anos un mensaje</h2>
					<p>Completa el formulario y nos pondremos en contacto contigo pronto</p>
					
					<form id="contact-form">
						<div class="form-group">
							<label for="name">Nombre *</label>
							<input 
								type="text" 
								id="name" 
								name="name" 
								required 
								placeholder="Tu nombre"
							/>
						</div>

						<div class="form-group">
							<label for="email">Email *</label>
							<input 
								type="email" 
								id="email" 
								name="email" 
								required 
								placeholder="tu@email.com"
							/>
						</div>

						<div class="form-group">
							<label for="subject">Asunto *</label>
							<select id="subject" name="subject" required>
								<option value="">Selecciona un asunto</option>
								<option value="general">Consulta general</option>
								<option value="colaboracion">Colaboraci√≥n</option>
								<option value="sugerencia">Sugerencia de contenido</option>
								<option value="tecnico">Soporte t√©cnico</option>
								<option value="otro">Otro</option>
							</select>
						</div>

						<div class="form-group">
							<label for="message">Mensaje *</label>
							<textarea 
								id="message" 
								name="message" 
								required 
								placeholder="Escribe tu mensaje aqu√≠..."
							></textarea>
						</div>

						<button type="submit" id="submit-btn" class="submit-btn">
							üì§ Enviar Mensaje
						</button>

						<div id="form-message" class="form-message"></div>
					</form>
				</section>

				<!-- FAQ Section -->
				<section class="faq-section">
					<h2>Preguntas Frecuentes</h2>
					
					<div class="faq-item">
						<h3>¬øCu√°nto tiempo tardan en responder?</h3>
						<p>Normalmente respondemos en 24-48 horas h√°biles. Para consultas urgentes, cont√°ctanos por redes sociales.</p>
					</div>

					<div class="faq-item">
						<h3>¬øAceptan colaboraciones?</h3>
						<p>S√≠, estamos abiertos a colaboraciones con marcas y creadores de contenido relacionados con IA y productividad.</p>
					</div>

					<div class="faq-item">
						<h3>¬øPuedo sugerir temas para art√≠culos?</h3>
						<p>¬°Por supuesto! Nos encanta escuchar las sugerencias de nuestra comunidad. Usa el formulario de contacto.</p>
					</div>
				</section>
			</div>
		</main>
		<Footer />

		<script>
		const form = document.getElementById('contact-form');
		const submitBtn = document.getElementById('submit-btn');
		const formMessage = document.getElementById('form-message');

		form.addEventListener('submit', async (e) => {
		  e.preventDefault();

		  submitBtn.disabled = true;
		  submitBtn.textContent = '‚è≥ Enviando...';
		  formMessage.style.display = 'none';

		  const formData = new FormData(form);
		  const data = Object.fromEntries(formData.entries());

		  try {
		    const res = await fetch('/api/contact', {
		      method: 'POST',
		      headers: { 'Content-Type': 'application/json' },
		      body: JSON.stringify(data),
		    });

		    const result = await res.json();

		    if (!res.ok) {
		      throw new Error(result.error || 'Error');
		    }

		    formMessage.className = 'form-message success';
		    formMessage.textContent = '‚úÖ Mensaje enviado. Te responderemos pronto.';
		    formMessage.style.display = 'block';
		    form.reset();
		  } catch (err) {
		    formMessage.className = 'form-message error';
		    formMessage.textContent =
		      '‚ùå Error al enviar el mensaje. Prob√° m√°s tarde o escribinos por email.';
		    formMessage.style.display = 'block';
		  } finally {
		    submitBtn.disabled = false;
		    submitBtn.textContent = 'üì§ Enviar Mensaje';
		  }
		});
		</script>
	</body>
</html>